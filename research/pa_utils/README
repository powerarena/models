# generate protos
protoc object_detection/protos/*.proto --python_out=.

# create train record
python object_detection/dataset_tools/create_pascal_tf_record.py --data_dir=/app/powerarena-sense-gym/client_dataset/ --year=Cerie --output_path=/app/powerarena-sense-gym/client_dataset/Cerie/train.record --label_map_path=/app/powerarena-sense-gym/models/research/pa_utils/data/label_maps/cerie_label_map.pbtxt --set=all

# train model
# if 2 GPUs, then append --num_clones=2 --ps_tasks=1
python -m object_detection.train --pipeline_config_path=models/research/pa_utils/configs/person/faster_rcnn_inception_resnet_v2_atrous.config \
--train_dir=models/research/pa_utils/model_output/person/faster_rcnn_inception_v2/train_aa --gpu=0

# eval model
python -m object_detection.eval --pipeline_config_path=models/research/pa_utils/configs/person/faster_rcnn_inception_resnet_v2_atrous.config \
--checkpoint_dir=models/research/pa_utils/model_output/person/faster_rcnn_inception_resnet/train_aa_v3 --eval_dir=models/research/pa_utils/model_output/person/faster_rcnn_inception_resnet/train_aa_v3/eval

# export graph
cd /app/powerarena-sense-gym/models/research/pa_utils
python object_detection/export_inference_graph.py --input_type image_tensor --pipeline_config_path configs/person/ssd_inception_v2.config --trained_checkpoint_prefix /media/byron-ma/500GB/PretrainByJay/person/ssd_inception_v2/train_aa/model.ckpt-88174 --output_directory /media/byron-ma/500GB/PretrainByJay/person/ssd_inception_v2/train_aa/inference


python -m object_detection.train --pipeline_config_path=models/research/pa_utils/configs/person/faster_rcnn_inception_resnet_v2_atrous.config --train_dir=models/research/pa_utils/model_output/person/faster_rcnn_inception_resnet/train_aa_v3 --gpu=0
python -m object_detection.train --pipeline_config_path=models/research/pa_utils/configs/person/rfcn_resnet101.config --train_dir=models/research/pa_utils/model_output/person/rfcn_resnet101/train_aa_v3 --gpu=0
export CUDA_DEVICE_ORDER=PCI_BUS_ID
export CUDA_VISIBLE_DEVICES=1

# install opencv2 with
https://medium.com/@debugvn/installing-opencv-3-3-0-on-ubuntu-16-04-lts-7db376f93961




